스프링 부트로 개발하다 보면 `application.properties` 파일이나 `yaml` 파일에 `spirng.jpa.hibernate.ddl-auto` 옵션 중 한 개를 선택해서 사용하는 경우를 보게된다.



```yaml
jpa:
    hibernate:
      ddl-auto: create # create-drop, update, validate, none,
```
이는 하이버네이트에서 `데이터베이스 스키마를 애플리케이션의 엔티티 모델에 맞게 자동으로 관리하는 기능`으로, 총 5가지 옵션이 있다.

> ddl-auto는 애플리케이션 실행 시 데이터베이스 스키마를 어떻게 처리할지 설정하는 옵션으로, 개발 편의성을 높이기 위해 주로 사용된다. (따라서 운영 환경에서 사용하는 것은 추천하지 않는다)

---
# Create
> Application 을 실행할 때 마다 모든 테이블을 생성한다.

- 개발 초반에 빈 DB 에 스키마를 반복적으로 생성해야 할 때 유용
- 매 실행마다 데이터가 초기화 되기 때문에, 개발 초기 단계나 테스트 용도로 사용된다.
- 운영 환경에 사용했다간 문 닫아야 한다.

---
# Create Drop
> Application을 실행할 때마다 생성하고, 종료할 때 삭제한다.

 - create와의 차이점은 애플리케이션 종료 시점에 스키마를 삭제한다는 점이다.
 - 테스트 환경에서 일시적인 스키마가 필요한 경우에 유용하다.
 - 실행 시마다 깨끗한 환경을 유지하고자 할 때 사용
 
 
---
# Update
> 기존 데이터베이스 스키마를 애플리케이션 엔티티에 맞춰 변경한다.

- 엔티티의 매핑과 데이버테이스 스키마를 비교한 후, 변경 사항을 업데이트한다.
- 새로운 테이블이나 컬럼이 추가되면 이를 반영하지만, 컬럼이 삭제된다고 해서 반영되지는 않는다.
- 따라서 운영 환경에서 예상치 못한 스키마 변경이 이뤄질 수 있기 때문에 이것 또한 사용하면 안된다.

---
# Validate
> 애플리케이션의 엔티티와 데이터베이스 스키마가 일치하는지 검증합니다.

- 불일치할 경우 예외를 발생시켜 개발자에게 알려준다.
- 엔티티와 데이터베이스 스키마가 일치하는지 확인하고 싶은 경우 사용한다.
- 변경은 따로 수행하지 않기 때문에 그나마 운영 환경에서도 사용해 볼 수 있는 옵션이다.

---
# None
>  데이터베이스 스키마와 관련된 어떠한 작업도 수행하지 않는다.

- 스키마를 수동으로 관리해야 하거나, 그러고 싶을 때 사용
- None이라고 직접적으로 명시해줘야 할 것 같지만 위 4가지 속성의 이름이 아닌 모든 문자열을 none 으로 처리한다.
- 실제 운영 환경에서 제일 많이 사용되는 옵션

---
🤔뭘 써야 하지?
개발 초기 로컬에서 개발하는 경우 create(drop), update 와 같은 속성으로 빠르게 개발하고, 실제 이미지로 올릴 때는 none 이나 validate 정도만 고려해서 사용하면 될 것 같다.

개인적으로는  update로 설정하고, 필요한 경우 데이터베이스에 데이터를 직접 추가하면서 개발하는 게 편했다.
